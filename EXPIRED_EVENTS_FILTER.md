# ğŸ—“ï¸ è‡ªåŠ¨è¿‡æ»¤è¿‡æœŸæ´»åŠ¨

## åŠŸèƒ½è¯´æ˜

ç½‘ç«™ç°åœ¨ä¼š**è‡ªåŠ¨éšè—å·²ç»ç»“æŸçš„æ´»åŠ¨**ï¼Œåªæ˜¾ç¤ºæœªæ¥å’Œæ­£åœ¨è¿›è¡Œçš„æ´»åŠ¨ã€‚

## è¿‡æ»¤é€»è¾‘

### 1. æœ‰ç»“æŸæ—¶é—´çš„æ´»åŠ¨
å¦‚æœæ´»åŠ¨æœ‰ `end_date` å­—æ®µï¼š
```
å¦‚æœ end_date < å½“å‰æ—¶é—´
  â†’ éšè—è¯¥æ´»åŠ¨
å¦åˆ™
  â†’ æ˜¾ç¤ºè¯¥æ´»åŠ¨
```

### 2. åªæœ‰å¼€å§‹æ—¶é—´çš„æ´»åŠ¨
å¦‚æœæ´»åŠ¨åªæœ‰ `start_date`ï¼Œæ²¡æœ‰ `end_date`ï¼š
```
å‡è®¾æ´»åŠ¨æŒç»­ 3 å°æ—¶
å¦‚æœ start_date + 3å°æ—¶ < å½“å‰æ—¶é—´
  â†’ éšè—è¯¥æ´»åŠ¨
å¦åˆ™
  â†’ æ˜¾ç¤ºè¯¥æ´»åŠ¨
```

## å®é™…æ•ˆæœ

åŸºäºå½“å‰æ•°æ®ï¼ˆ2026-01-08ï¼‰ï¼š

```
æ€»æ´»åŠ¨æ•°: 1434
å·²è¿‡æœŸ: 30 ä¸ª
æœªæ¥æ´»åŠ¨: 1404 ä¸ª

âœ… ç”¨æˆ·å°†çœ‹åˆ° 1404 ä¸ªç›¸å…³æ´»åŠ¨
âŒ è‡ªåŠ¨éšè— 30 ä¸ªè¿‡æœŸæ´»åŠ¨ï¼ˆ2.1%ï¼‰
```

## ç¤ºä¾‹

å‡è®¾ç°åœ¨æ˜¯ï¼š**2026-01-08 ä¸‹åˆ 2:00**

| æ´»åŠ¨ | æ—¶é—´ | çŠ¶æ€ |
|-----|------|------|
| Mystery Book Club | 2026-01-07 10:00-11:00 | âŒ éšè—ï¼ˆæ˜¨å¤©å·²ç»“æŸï¼‰|
| Fiction Reading | 2026-01-08 10:00-11:00 | âŒ éšè—ï¼ˆä»Šå¤©æ—©ä¸Šå·²ç»“æŸï¼‰|
| Graphic Novel Club | 2026-01-08 15:00-16:00 | âœ… æ˜¾ç¤ºï¼ˆ1å°æ—¶åå¼€å§‹ï¼‰|
| Young Adult Discussion | 2026-01-09 18:00-19:00 | âœ… æ˜¾ç¤ºï¼ˆæ˜å¤©ï¼‰|
| Poetry Reading | 2026-01-15 14:00-15:00 | âœ… æ˜¾ç¤ºï¼ˆä¸‹å‘¨ï¼‰|

## ä¸ºä»€ä¹ˆæ˜¯ 3 å°æ—¶ï¼Ÿ

å¤§å¤šæ•°è¯»ä¹¦ä¿±ä¹éƒ¨æ´»åŠ¨æŒç»­æ—¶é—´ï¼š
- çº¿ä¸‹è®¨è®ºï¼šé€šå¸¸ 1-2 å°æ—¶
- åœ¨çº¿è®¨è®ºï¼šé€šå¸¸ 1 å°æ—¶
- ç‰¹æ®Šæ´»åŠ¨ï¼šå¯èƒ½ 2-3 å°æ—¶

ä½¿ç”¨ **3 å°æ—¶** ä½œä¸ºä¿å®ˆä¼°è®¡ï¼Œç¡®ä¿ä¸ä¼šè¯¯åˆ ä»åœ¨è¿›è¡Œçš„æ´»åŠ¨ã€‚

## å¥½å¤„

### å¯¹ç”¨æˆ·
âœ… åªçœ‹åˆ°ç›¸å…³çš„æœªæ¥æ´»åŠ¨
âœ… å‡å°‘ä¿¡æ¯è¿‡è½½
âœ… æ›´å®¹æ˜“æ‰¾åˆ°æƒ³å‚åŠ çš„æ´»åŠ¨
âœ… ä¸éœ€è¦æ‰‹åŠ¨è¿‡æ»¤è¿‡æœŸä¿¡æ¯

### å¯¹ç½‘ç«™
âœ… è‡ªåŠ¨åŒ–ç»´æŠ¤
âœ… æ— éœ€æ‰‹åŠ¨åˆ é™¤æ—§æ´»åŠ¨
âœ… å®æ—¶æ›´æ–°ï¼ˆæ¯æ¬¡åŠ è½½é¡µé¢éƒ½ä¼šé‡æ–°è¿‡æ»¤ï¼‰
âœ… ä¿æŒæ•°æ®æ–‡ä»¶å®Œæ•´ï¼ˆæ–¹ä¾¿å†å²æŸ¥è¯¢ï¼‰

## æŠ€æœ¯å®ç°

### ä»£ç ä½ç½®
`public/js/search.js` - `applyFilters()` å‡½æ•°

### æ ¸å¿ƒé€»è¾‘
```javascript
const now = new Date();

filteredEvents = allEvents.filter(event => {
  // æ£€æŸ¥æ˜¯å¦è¿‡æœŸ
  if (event.end_date) {
    const endDate = new Date(event.end_date);
    if (endDate < now) {
      return false; // éšè—
    }
  } else if (event.start_date) {
    const startDate = new Date(event.start_date);
    const approximateEnd = new Date(startDate.getTime() + 3 * 60 * 60 * 1000);
    if (approximateEnd < now) {
      return false; // éšè—
    }
  }

  // ç»§ç»­å…¶ä»–ç­›é€‰...
});
```

## æ—¶åŒºå¤„ç†

- æ‰€æœ‰æ—¥æœŸåœ¨ JSON ä¸­éƒ½æ˜¯ ISO 8601 æ ¼å¼
- JavaScript `Date` å¯¹è±¡è‡ªåŠ¨å¤„ç†æ—¶åŒºè½¬æ¢
- æ¯”è¾ƒæ—¶ä½¿ç”¨ç”¨æˆ·æœ¬åœ°æ—¶é—´
- æ— éœ€æ‰‹åŠ¨æ—¶åŒºè®¡ç®—

## æµ‹è¯•

è¦æŸ¥çœ‹è¿‡æ»¤æ•ˆæœï¼š

1. **æŸ¥çœ‹å½“å‰è¿‡æ»¤ç»Ÿè®¡**ï¼š
   ```bash
   python3 << 'EOF'
   import json
   from datetime import datetime, timezone, timedelta

   with open('public/events.json', 'r') as f:
       data = json.load(f)

   now = datetime.now(timezone.utc)
   expired = sum(1 for e in data['events']
                 if datetime.fromisoformat(e.get('end_date', '9999-12-31T00:00:00+00:00').replace('Z', '+00:00')) < now)

   print(f"è¿‡æœŸæ´»åŠ¨: {expired}")
   print(f"æœªæ¥æ´»åŠ¨: {len(data['events']) - expired}")
   EOF
   ```

2. **è®¿é—®ç½‘ç«™éªŒè¯**ï¼š
   ```bash
   cd public
   python3 -m http.server 8000
   ```

   æ‰“å¼€æµè§ˆå™¨ï¼Œæ£€æŸ¥æ˜¾ç¤ºçš„æ´»åŠ¨æ•°é‡

## æ³¨æ„äº‹é¡¹

- âš ï¸ è¿‡æ»¤åœ¨**å®¢æˆ·ç«¯**è¿›è¡Œï¼Œä¸ä¿®æ”¹ `events.json` æ–‡ä»¶
- âš ï¸ æ¯æ¬¡åŠ è½½é¡µé¢éƒ½ä¼šé‡æ–°è¿‡æ»¤ï¼ˆä¿è¯å®æ—¶æ€§ï¼‰
- âš ï¸ å¦‚æœéœ€è¦æŸ¥çœ‹å†å²æ´»åŠ¨ï¼Œéœ€è¦ä¿®æ”¹ä»£ç æˆ–ç›´æ¥æŸ¥çœ‹ JSON æ–‡ä»¶

## æœªæ¥æ”¹è¿›å»ºè®®

å¦‚æœéœ€è¦æ›´ç²¾ç¡®çš„è¿‡æ»¤ï¼Œå¯ä»¥è€ƒè™‘ï¼š

1. **æœåŠ¡å™¨ç«¯è¿‡æ»¤** - åœ¨æ•°æ®æŠ“å–æ—¶å°±æ’é™¤è¿‡æœŸæ´»åŠ¨
2. **å¯é…ç½®æ—¶é•¿** - å…è®¸ç”¨æˆ·è®¾ç½®"å³å°†å¼€å§‹"çš„æ—¶é—´èŒƒå›´
3. **æ˜¾ç¤ºé€‰é¡¹** - æ·»åŠ "æ˜¾ç¤ºå·²è¿‡æœŸæ´»åŠ¨"çš„å¼€å…³
4. **å½’æ¡£åŠŸèƒ½** - å°†è¿‡æœŸæ´»åŠ¨ç§»åˆ°å•ç‹¬çš„å½’æ¡£é¡µé¢

---

**å½“å‰å®ç°å·²ç»è¶³å¤Ÿæ»¡è¶³å¤§å¤šæ•°ç”¨æˆ·éœ€æ±‚ï¼** âœ…
